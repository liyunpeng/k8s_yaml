Last login: Sun Jan 12 13:41:26 2020 from 192.168.0.210
[master@212-node ~]$ k get no
NAME       STATUS     ROLES    AGE     VERSION
212-node   Ready      master   2d10h   v1.17.0
213-node   Ready      <none>   38h     v1.17.0
217-node   NotReady   <none>   32h     v1.17.0
220-node   NotReady   <none>   37h     v1.17.0
68-node    NotReady   <none>   2d10h   v1.17.0
[master@212-node ~]$ k get service
serviceaccounts  services
[master@212-node ~]$ k get serviceaccounts
NAME                     SECRETS   AGE
default                  1         2d10h
heketi-service-account   1         2d10h
[master@212-node ~]$ kd sa default
Name:                default
Namespace:           default
Labels:              <none>
Annotations:         <none>
Image pull secrets:  <none>
Mountable secrets:   default-token-24p4w
Tokens:              default-token-24p4w
Events:              <none>
[master@212-node ~]$ kd secrets default-token-24p4w
Name:         default-token-24p4w
Namespace:    default
Labels:       <none>
Annotations:  kubernetes.io/service-account.name: default
              kubernetes.io/service-account.uid: 04b711c6-8288-4d69-ba18-ffc486bbe55b

Type:  kubernetes.io/service-account-token

Data
====
ca.crt:     1025 bytes
namespace:  7 bytes
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IkJGTTcyYmN1QklqZm1HS3JxZVZIaHFvQnF6NUxCWldnMUhGRjFvM3RnUUUifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImRlZmF1bHQtdG9rZW4tMjRwNHciLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGVmYXVsdCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjA0YjcxMWM2LTgyODgtNGQ2OS1iYTE4LWZmYzQ4NmJiZTU1YiIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.Ir889LHIkOClCdUkEKKIsdxNELiIeGQi8_GUrEI7F7r9NzOqgG1fjxNYBwXQCgKnTHuzhXtUXC_BtBL1BHFR-_hTIWrbVvGmYgaII6VSCiGctdgUyrUHKMdFbJ6gqml-17zjktpp94ZTSyZjTfcb5C6IAwvhfgNP6hT-B_9MAhT9_rKTyg4VXmcvgxryxxArBOwaExO-yRyE7OD0a9jATwx9-ICdvM4khlfzzQz8lbnExvzEmamAcL_BbwgVeEC-AviH1_jZkfHyKoUSwGfZ8qu8iP-HT3fhHRiwO15T4lKnPjMjN1Dyd-wTsMk-gZwrhZX1lsgrMj3HBToeiG6Fjg
[master@212-node ~]$ kd secrets default-token-24p4w
Name:         default-token-24p4w
Namespace:    default
Labels:       <none>
Annotations:  kubernetes.io/service-account.name: default
              kubernetes.io/service-account.uid: 04b711c6-8288-4d69-ba18-ffc486bbe55b

Type:  kubernetes.io/service-account-token

Data
====
ca.crt:     1025 bytes
namespace:  7 bytes
token:      eyJhbGciOiJSUzI1NiIsImtpZCI6IkJGTTcyYmN1QklqZm1HS3JxZVZIaHFvQnF6NUxCWldnMUhGRjFvM3RnUUUifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImRlZmF1bHQtdG9rZW4tMjRwNHciLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGVmYXVsdCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjA0YjcxMWM2LTgyODgtNGQ2OS1iYTE4LWZmYzQ4NmJiZTU1YiIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.Ir889LHIkOClCdUkEKKIsdxNELiIeGQi8_GUrEI7F7r9NzOqgG1fjxNYBwXQCgKnTHuzhXtUXC_BtBL1BHFR-_hTIWrbVvGmYgaII6VSCiGctdgUyrUHKMdFbJ6gqml-17zjktpp94ZTSyZjTfcb5C6IAwvhfgNP6hT-B_9MAhT9_rKTyg4VXmcvgxryxxArBOwaExO-yRyE7OD0a9jATwx9-ICdvM4khlfzzQz8lbnExvzEmamAcL_BbwgVeEC-AviH1_jZkfHyKoUSwGfZ8qu8iP-HT3fhHRiwO15T4lKnPjMjN1Dyd-wTsMk-gZwrhZX1lsgrMj3HBToeiG6Fjg
[master@212-node ~]$ ls /run/
agetty.reload             dbus/                     .heim_org.h5l.kcm-socket  NetworkManager/           sm-notify.pid
alsactl.pid               dmeventd-client           initctl                   nmbd.pid                  spice-vdagentd/
atd.pid                   dmeventd.pid              initramfs/                nodeagent/                sshd.pid
auditd.pid                dmeventd-server           ksmtune.pid               plymouth/                 sssd.pid
avahi-daemon/             docker/                   libvirt/                  podman/                   sudo/
blkid/                    docker.pid                libvirtd.pid              radvd/                    systemd/
calico/                   dockershim.sock           lock/                     rpcbind/                  tmpfiles.d/
chrony/                   docker.sock               log/                      rpcbind.sock              tuned/
cockpit/                  faillock/                 lsm/                      rsyslogd.pid              udev/
console/                  flannel/                  lvm/                      samba/                    user/
criu/                     fsck/                     mcelog-client             sepermit/                 utmp
cron.reboot               gluster/                  mcelog.pid                setrans/                  vmware/
cryptsetup/               gssproxy.pid              mdadm/                    setroubleshoot/           xtables.lock
cups/                     gssproxy.sock             mount/                    smbd.pid
[master@212-node ~]$ ls /run/se
sepermit/       setrans/        setroubleshoot/
[master@212-node ~]$ ls /run/^C
[master@212-node ~]$ su root
密码：
[root@212-node master]# ls /run/
agetty.reload             dbus/                     .heim_org.h5l.kcm-socket  NetworkManager/           sm-notify.pid
alsactl.pid               dmeventd-client           initctl                   nmbd.pid                  spice-vdagentd/
atd.pid                   dmeventd.pid              initramfs/                nodeagent/                sshd.pid
auditd.pid                dmeventd-server           ksmtune.pid               plymouth/                 sssd.pid
avahi-daemon/             docker/                   libvirt/                  podman/                   sudo/
blkid/                    docker.pid                libvirtd.pid              radvd/                    systemd/
calico/                   dockershim.sock           lock/                     rpcbind/                  tmpfiles.d/
chrony/                   docker.sock               log/                      rpcbind.sock              tuned/
cockpit/                  faillock/                 lsm/                      rsyslogd.pid              udev/
console/                  flannel/                  lvm/                      samba/                    user/
criu/                     fsck/                     mcelog-client             sepermit/                 utmp
cron.reboot               gluster/                  mcelog.pid                setrans/                  vmware/
cryptsetup/               gssproxy.pid              mdadm/                    setroubleshoot/           xtables.lock
cups/                     gssproxy.sock             mount/                    smbd.pid
[root@212-node master]# ls /run/se
sepermit/       setrans/        setroubleshoot/
[root@212-node master]# ls /run/se^C
[root@212-node master]# exit
exit
[master@212-node ~]$ k get po
NAME                             READY   STATUS    RESTARTS   AGE
deploy-heketi-65d9c564d6-48xkg   1/1     Running   1          2d1h
glusterfs-jhxhp                  1/1     Running   0          32h
[master@212-node ~]$ k exec -it glusterfs-jhxhp bash
Error from server: error dialing backend: dial tcp 192.168.0.217:10250: connect: no route to host
[master@212-node ~]$ k get po
NAME                             READY   STATUS    RESTARTS   AGE
deploy-heketi-65d9c564d6-48xkg   1/1     Running   1          2d1h
glusterfs-jhxhp                  1/1     Running   0          32h
[master@212-node ~]$ k get po -o wide
NAME                             READY   STATUS    RESTARTS   AGE    IP               NODE       NOMINATED NODE   READINESS GATES
deploy-heketi-65d9c564d6-48xkg   1/1     Running   1          2d1h   192.168.244.66   68-node    <none>           <none>
glusterfs-jhxhp                  1/1     Running   0          32h    192.168.0.217    217-node   <none>           <none>
[master@212-node ~]$ k exec -it glusterfs-jhxhp bash
Error from server: error dialing backend: dial tcp 192.168.0.217:10250: connect: no route to host
[master@212-node ~]$ k exec -it glusterfs-jhxhp bash
Error from server: error dialing backend: dial tcp 192.168.0.217:10250: connect: connection refused
[master@212-node ~]$ k get po
NAME                             READY   STATUS    RESTARTS   AGE
deploy-heketi-65d9c564d6-48xkg   1/1     Running   1          2d1h
glusterfs-jhxhp                  1/1     Running   0          32h
[master@212-node ~]$ k get po -owide
NAME                             READY   STATUS    RESTARTS   AGE    IP               NODE       NOMINATED NODE   READINESS GATES
deploy-heketi-65d9c564d6-48xkg   1/1     Running   1          2d1h   192.168.244.66   68-node    <none>           <none>
glusterfs-jhxhp                  1/1     Running   0          32h    192.168.0.217    217-node   <none>           <none>
[master@212-node ~]$ k exec -it glusterfs-jhxhp bash^C
[master@212-node ~]$ k exec -it glusterfs-jhxhp bash
[root@217-node /]# ls /run/secrets/kubernetes.io/serviceaccount/ca.crt
/run/secrets/kubernetes.io/serviceaccount/ca.crt
[root@217-node /]# ls /run/secrets/kubernetes.io/serviceaccount/ca.crt -l
lrwxrwxrwx. 1 root root 13 Jan 13 15:09 /run/secrets/kubernetes.io/serviceaccount/ca.crt -> ..data/ca.crt
[root@217-node /]# cat /run/secrets/kubernetes.io/serviceaccount/ca.crt
-----BEGIN CERTIFICATE-----
MIICyDCCAbCgAwIBAgIBADANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQDEwprdWJl
cm5ldGVzMB4XDTIwMDExMTA0MTcxMVoXDTMwMDEwODA0MTcxMVowFTETMBEGA1UE
AxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAPQi
v5lz0Qq5Tl4ovDj1JddqZ2aKgv/4WS4dDqeDG6XhVCvAJQQlg6wi4A3Lpq9lbXa5
g0T+7HJy7DjBcsVi/SqTcg8K68X1U1u6If/Fj8BQh3HyOnP4esYW1WCyO4udHb3x
Aj143zKsRtiLD40aM0QpNOrJKLpc1/wDnGSA78DMgU58n1otxgUjhFb6NC9h6q8N
PWMDL0BkoLdSVIMwR4l8GswJJ6bvcm+rKlsEd9E/61F8Xj3ZNg7RAZ+kWNnVHDj3
MJTtSuUZWw7TBKlQUZ13C1d6+VnG9ouB4IOaQLKzOrQK0xLQSLAX2mzX5Hv9EZR9
qBaT9SAkG6KPieMCyjUCAwEAAaMjMCEwDgYDVR0PAQH/BAQDAgKkMA8GA1UdEwEB
/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBACO+LMXTbfwneo63utcqv1nlUCrG
Ks0o1DYxqVWY4jpMzJmw19TvmHHKiQRfRj8A1Y65PbnGbZ0tAhtpMUJcBn60ubDr
/5xtv+uzJVnuubhkVZYV314D6efj0AgGLb1SykOb/03NCm2zVOJsfFIuczOQoAyc
iTKiaqvMswo4nm0j3JPmz91tkO/j6/gCixgAGVMenNfnmvW6ZgfXVbvw0brhIWvT
WqZNduFTPRYnY/R7UV1bU4oAgaU5twwcRIvldgr++5BEaVcHsR3x0GB4OWt2/oEr
o62ulQf5BjQnQvsPN33v9F0sgTjSq2QOJZ66j3t99p8GZxO+aIYHuk3Pgvc=
-----END CERTIFICATE-----
[root@217-node /]# cat /run/secrets/kubernetes.io/serviceaccount/
..2020_01_13_15_09_56.653493624/ ..data/                          token
ca.crt                           namespace
[root@217-node /]# cat /run/secrets/kubernetes.io/serviceaccount/
..2020_01_13_15_09_56.653493624/ ..data/                          token
ca.crt                           namespace
[root@217-node /]# cat /run/secrets/kubernetes.io/serviceaccount/token
eyJhbGciOiJSUzI1NiIsImtpZCI6IkJGTTcyYmN1QklqZm1HS3JxZVZIaHFvQnF6NUxCWldnMUhGRjFvM3RnUUUifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImRlZmF1bHQtdG9rZW4tMjRwNHciLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGVmYXVsdCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjA0YjcxMWM2LTgyODgtNGQ2OS1iYTE4LWZmYzQ4NmJiZTU1YiIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmRlZmF1bHQifQ.Ir889LHIkOClCdUkEKKIsdxNELiIeGQi8_GUrEI7F7r9NzOqgG1fjxNYBwXQCgKnTHuzhXtUXC_BtBL1BHFR-_hTIWrbVvGmYgaII6VSCiGctdgUyrUHKMdFbJ6gqml-17zjktpp94ZTSyZjTfcb5C6IAwvhfgNP6hT-B_9MAhT9_rKTyg4VXmcvgxryxxArBOwaExO-yRyE7OD0a9jATwx9-ICdvM4khlfzzQz8lbnExvzEmamAcL_BbwgVeEC-AviH1_jZkfHyKoUSwGfZ8qu8iP-HT3fhHRiwO15T4lKnPjMjN1Dyd-wTsMk-gZwrhZX1lsgrMj3HBToeiG6Fjg[root@217-node /]# cat /run/secrets/kubernetes.io/serviceaccount/namespace
default[root@217-node /]#

